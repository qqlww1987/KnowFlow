# MinerU SGLang Docker 配置示例
# 复制此文件为 .env 并根据需要修改参数

# =============================================================================
# 基础配置
# =============================================================================

# 安装类型: core(仅API) 或 all(API+SGLang)
INSTALL_TYPE=all

# 模型源: modelscope 或 huggingface
MINERU_MODEL_SOURCE=local
MINERU_MODELS_DIR=/app/models

# =============================================================================
# 端口配置
# =============================================================================

# API 服务端口
API_PORT=8888

# SGLang 服务器端口
SGLANG_PORT=30000

# =============================================================================
# SGLang 服务器参数
# =============================================================================

# 主机地址
SGLANG_HOST=0.0.0.0

# 张量并行大小 (根据GPU数量调整)
SGLANG_TP_SIZE=1

# 数据并行大小
SGLANG_DP_SIZE=1

# 静态内存分配比例 (0.0-1.0)
SGLANG_MEM_FRACTION_STATIC=0.9

# 启用 torch.compile 优化 (true/false)
SGLANG_ENABLE_TORCH_COMPILE=false

# 最大序列长度
SGLANG_MAX_SEQ_LEN=8192

# 批处理大小
SGLANG_BATCH_SIZE=32

# =============================================================================
# 模型路径配置
# =============================================================================

# 模型存储目录
MINERU_MODELS_DIR=/app/models

# HuggingFace 缓存目录
HF_HUB_CACHE=/app/models/huggingface

# ModelScope 缓存目录
MODELSCOPE_CACHE=/app/models/modelscope

# =============================================================================
# 高级配置
# =============================================================================

# 健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=30

# 启动等待时间（秒）
STARTUP_WAIT_TIME=15

# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 是否启用详细日志
VERBOSE=false